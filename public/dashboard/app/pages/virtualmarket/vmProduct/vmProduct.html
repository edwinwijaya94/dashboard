<div class="row" ng-controller="vmProductCtrl">
  <!-- <div class="row col-md-12" ba-panel ba-panel-title="Data Produk" ba-panel-class="panel-group"> -->

    <div class="row">
      <!-- availability rates -->
      <!-- <div class="row">  
        <div class="pie-charts">
          <div class="pie-chart-item-container" ng-repeat="chart in charts">
            <div ba-panel
                 ba-panel-class="pv-panel">
              <div class="pie-chart-item">
                <div easypiechart class="chart" options="options" percent="percent"> <span class="percent" ng-bind="percent"></span> </div>
                <div class="description">
                  <div>{{ ::chart.description }}</div>
                  <div class="description-stats" ng-bind="chart.stats"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div> -->

      <div class="row">
        <!-- top commodities -->
        <div class="col-md-12"
           ba-panel
           ba-panel-title="Daftar Produk"
           ba-panel-class="pv-panel table-panel" style="height:400px">
          <div>
            <!-- <table class="table table-hover">
              <thead>
                <tr style="background-color:{{colors.green}}">
                  <th class="align-left" style="color:white">#</th>
                  <th class="align-left" style="color:white">Nama Produk</th>
                  <th class="align-left" style="color:white">#Penjualan</th>
                  <th class="align-left" style="color:white">Harga Rata-Rata(Rp)</th>
                  <th class="align-left" style="color:white">Ketersediaan(%)</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="product in productList.product" class="no-top-border">
                  <td class="align-right">{{getRank($index)}}</td>
                  <td ng-class="nowrap">{{product.name}}</td>
                  <td ng-class="nowrap">{{product.count}}</td>
                  <td ng-class="nowrap">{{formatNumber(product.avg_price)}}</td>
                  <td ng-class="nowrap">{{formatNumber(product.availability)}}</td>
                </tr>
              </tbody>
            </table> -->
            <!-- pagination -->
            <!-- <div class="row" style="text-align:center" ng-show="productList.totalRows>0">
              <ul uib-pagination total-items="productList.totalRows" items-per-page="productList.rowsPerPage" max-size="productList.displayedPages" previous-text="<" next-text=">" ng-model="productList.page" ng-change="changeProductPage()"></ul>
            </div> -->

            <!-- NEW TABLE -->
          <table class="table" st-table="productList.product" st-safe-src="updatedProductList">
            <thead>
            <tr class="sortable ">
              <th class="table-id">#</th>
              <th st-sort="name">Produk</th>
              <th st-sort="category">Kategori</th>
              <th st-sort="sorter.count" st-sort-default="reverse">#Transaksi</th>
              <th >#Permintaan</th>
              <th st-sort="sorter.avgPrice">Harga(Rp)</th>
              <th st-sort="sorter.availability">Ketersediaan(%)</th>
              <th >Tren</th>
            </tr>
            <tr>
              <th></th>
              <th>
                <input st-search="name" placeholder="Cari Produk" class="input-sm form-control search-input" type="search"/>
              </th>
              <th>
                <input st-search="category" placeholder="Cari Kategori" class="input-sm form-control search-input" type="search"/>
              </th>
              <th></th>
              <th></th>
              <th></th>
              <th></th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="product in productList.product">
              <td class="table-id">{{$index+1+(productPageIndex-1)*productPageSize}}</td>
              <td>{{product.name}}</td>
              <td>{{product.category}}</td>
              <td>{{product.count}}</td>
              <td>{{product.sums}} {{product.unit}}</td>
              <td>{{formatNumber(product.avg_price)}}</td>
              <td>{{formatNumber(product.availability)}}</td>
              <td>
                <div class="buttons">
                  <button class="btn btn-primary editable-table-button btn-xs" ng-click="viewTrend(product)">Lihat</button>
                </div>
              </td> 
            </tr>
            </tbody>
            <tfoot>
            <tr>
              <td colspan="6" class="text-center">
                <div st-pagination="" st-items-by-page="5" st-displayed-pages="5" st-page-change="changeProductPage(newPage)"></div>
              </td>
            </tr>
            </tfoot>
          </table>

          </div>
        </div>

        <!-- unavailable commodities -->
        <!-- <div class="col-md-6"
           ba-panel
           ba-panel-title="Tidak Tersedia"
           ba-panel-class="pv-panel table-panel" style="height:400px">
          <div class="vertical-scroll">
            <table class="table table-hover">
              <thead>
                <tr style="background-color:{{colors.red}}">
                  <th class="align-left" style="color:white">#</th>
                  <th class="align-left" style="color:white">Nama Komoditas</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="product in unavailableProducts" class="no-top-border">
                  <td class="align-right">{{$index+1}}</td>
                  <td ng-class="nowrap">{{product.name}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div> -->

      </div>
    </div>

  <!-- </div> -->
</div>